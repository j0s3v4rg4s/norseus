@let isExpanded = layoutStore.isExpanded();
@let isMobileOpen = layoutStore.isMobileOpen();
@let visibleLargeMenu = layoutStore.visibleLargeMenu();

<aside
  class="fixed flex flex-col top-0 px-5 left-0 bg-background dark:bg-gray-900 dark:border-gray-800 text-gray-900 h-screen transition-all duration-300 ease-in-out z-50 border-r border-gray-200"
  [class]="{
    'w-[290px]': visibleLargeMenu,
    'w-[90px]': !visibleLargeMenu,
    'translate-x-0': isMobileOpen,
    '-translate-x-full': !isMobileOpen,
    'xl:translate-x-0': true,
  }"
>
  <div
    class="flex"
    [class]="{
      'xl:justify-center': !isExpanded,
      'justify-start': isExpanded,
    }"
  >
    <div class="pt-4 h-[62px] box-content">
      @if (layoutStore.logo()) {
        <a routerLink="/">
          <img [ngSrc]="layoutStore.logo()!" alt="" width="249" height="62" class="aspect-[4/1] object-contain" />
        </a>
      }
    </div>
  </div>

  <div class="flex flex-col overflow-y-auto duration-300 ease-linear no-scrollbar flex-1">
    <ui-menu-section
      class="mt-8"
      title="menu"
      [items]="layoutStore.menuItems()"
      [isExpanded]="visibleLargeMenu"
      section="main"
      [openSubmenu]="openSubmenu()"
      (toggleSubmenu)="toggleSubmenu($event)"
    >
    </ui-menu-section>
  </div>
</aside>
