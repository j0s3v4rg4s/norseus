@let isMobileOpen = layoutStore.isMobileOpen();
@let visibleLargeMenu = layoutStore.visibleLargeMenu();

<aside
  class="fixed flex flex-col top-0 px-4 left-0 bg-background text-gray-900 h-screen transition-all duration-300 ease-in-out z-50 border-r border-gray-200"
  [class]="{
    'w-[250px]': visibleLargeMenu,
    'w-[90px]': !visibleLargeMenu,
    'translate-x-0': isMobileOpen,
    '-translate-x-full': !isMobileOpen,
    'xl:translate-x-0': true,
  }"
>
  <div class="pt-4 h-17">
    @if (layoutStore.isExpanded()) {
      @if (layoutStore.logo()) {
        <a routerLink="/" class="block w-max">
          <img [ngSrc]="layoutStore.logo()!" alt="" width="144" height="36" class="aspect-[4/1] object-contain block mx-auto" />
        </a>
      }
    } @else {
      @if (layoutStore.icon()) {
        <a routerLink="/">
          <img [ngSrc]="layoutStore.icon()!" alt="" width="36" height="36" class="aspect-square object-contain block mx-auto" />
        </a>
      }
    }
  </div>

  <div class="flex flex-col overflow-y-auto duration-300 ease-linear no-scrollbar flex-1 pt-4">
    <ui-menu-section
      title="menu"
      [items]="layoutStore.menuItems()"
      [isExpanded]="visibleLargeMenu"
      section="main"
      [openSubmenu]="openSubmenu()"
      (toggleSubmenu)="toggleSubmenu($event)"
    >
    </ui-menu-section>
  </div>
</aside>
