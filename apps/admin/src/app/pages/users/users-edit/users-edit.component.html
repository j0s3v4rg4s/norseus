<div class="container">
  <div class="flex items-center mb-6">
    <h1 class="text-2xl font-bold">Editar Usuario</h1>
  </div>

  <div class="max-w-3xl mx-auto">
    <div class="bg-white rounded-lg shadow-lg p-4 mb-8">
      <form [formGroup]="form" class="mb-8 grid gap-4">
        <div class="grid gap-3">
          <label for="name" class="label">Nombre completo</label>
          <input class="input" id="name" formControlName="name" type="text" />
        </div>
        <div class="grid gap-3">
          <label for="email" class="label">Correo electr√≥nico</label>
          <input class="input" id="email" formControlName="email" type="email" />
        </div>
        <div class="grid gap-3">
          <label for="role" class="label">Rol</label>
          <select class="select" id="role" formControlName="roleId">
            @for (role of store.roles(); track role.id) {
              <option [value]="role.id">{{ role.name }}</option>
            }
          </select>
        </div>
      </form>
      <div class="mt-6">
        <button class="btn-destructive" (click)="deleteUser()">Eliminar usuario</button>
      </div>
    </div>
    @if (store.statusSaveMessage()) {
      <div class="text-red-400 text-sm mb-2">{{ store.statusSaveMessage() }}</div>
    }
    <div class="flex justify-between items-center">
      <button class="btn-secondary" routerLink="/home/users">Cancelar</button>
      <button class="btn" (click)="saveUser()" [disabled]="form.invalid || store.isLoading()">
        @if (store.isLoading()) {
          <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></div>
        }
        Guardar Cambios
      </button>
    </div>
  </div>
</div>
